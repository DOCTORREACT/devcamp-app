import React from 'react'
import './TopBar.css'
import { NavLink } from 'react-router-dom'
import { connect } from "react-redux";
import LoginLogo from 'icons/loginIcon'
import RegisterLogo from 'icons/registerIcon'
import DevCampLogo from 'icons/devCampIcon'
import AccountLogo from 'icons/accountIcon'


const TopBar = props => {

    return (
        <div className={'topBar_container'}>
            <div className={'topBar_left_side'}>
                <DevCampLogo />
                <NavLink to={'/'} className={'link'}><div className='brend_name'>DevCamper</div></NavLink>
            </div>
            <div className={'topBar_right_side'}>
               <div className={props.inSystem ? 'links_hide': 'topBar_links'}>
                    <LoginLogo flag={true} className={'topBar'}/>
                    <NavLink to={'/login'} className={'link'}>Login </NavLink>
                    <RegisterLogo  flag={true} />
                    <NavLink to={'/register'} className={'link'}>Register </NavLink>
               </div>
                <div className={ props.inSystem ? 'topBar_account_box' : 'account_hide' }>
                    <div style={{display: "flex"}}>
                        <AccountLogo />
                        <div>{ props.updateUserName || props.username }</div>
                        <div className={'triangle'}>

                        <div className="dropdown">
                        <div> 
                            <svg width="25" height="15" viewBox="0 0 12 6" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M6 6L11.1962 0.75H0.803848L6 6Z" fill="#EFA999"/>
                            </svg>
                        </div>
                            <div className="dropdown-content">
                            <div><NavLink to={'/updateuser'} className='menu_link'>Update Username</NavLink></div>
                            <div><NavLink to={'/reset'} className='menu_link'>Reset Password</NavLink></div>
                            <div><NavLink to={'/update'} className='menu_link'>Update Password</NavLink></div>
                            <div><NavLink to={'/'} className='menu_link'>Log out</NavLink></div>
                            </div>
                        </div>

                        </div>
                    </div>
                </div>
                <div>
                    <NavLink to={'/bootcamps'} className={'link'} id={'link_boot_top'}><div id={'link_box'}> |</div> Browse Bootcamps</NavLink>
                </div>
            </div>
        </div>
    )
}
function mapStateToProps(state) {
    return {
        inSystem: state.inSystem,
        username: state.registerUser.name,
        updateUserName: state.updateUserName
    }
}

export default connect(mapStateToProps, null) (TopBar)


